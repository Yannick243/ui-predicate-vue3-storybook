import{x as vn,q as ht,e as mn,u as _t,o as hn,i as _n,g as hr,s as bn,k as An,y as bt}from"./_baseAssignValue-DOAAiU1Z.js";import{_ as Pn,a as On}from"./_copyObject-BN5XIQY1.js";import{c as z,F as _r,g as br,o as V,t as Ne,k as Mr,l as Dr,b as Sn,f as wn,d as Tn}from"./vue.esm-bundler-Bl8ZJi_Q.js";function $n(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var En=$n,jn=En,Nr=Math.max;function Cn(t,e,r){return e=Nr(e===void 0?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=Nr(n.length-e,0),u=Array(i);++o<i;)u[o]=n[e+o];o=-1;for(var l=Array(e+1);++o<e;)l[o]=n[o];return l[e]=r(u),jn(t,this,l)}}var In=Cn;function Rn(t){return function(){return t}}var Fn=Rn,Ln=Fn,kr=vn,Bn=ht,Mn=kr?function(t,e){return kr(t,"toString",{configurable:!0,enumerable:!1,value:Ln(e),writable:!0})}:Bn,Dn=Mn,Nn=800,kn=16,Un=Date.now;function Gn(t){var e=0,r=0;return function(){var n=Un(),o=kn-(n-r);if(r=n,o>0){if(++e>=Nn)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var xn=Gn,Jn=Dn,Wn=xn,Vn=Wn(Jn),qn=Vn,zn=ht,Hn=In,Xn=qn;function Kn(t,e){return Xn(Hn(t,e,zn),t+"")}var Yn=Kn,Zn=mn,Qn=_t,eo=hn,ro=_n;function to(t,e,r){if(!ro(r))return!1;var n=typeof e;return(n=="number"?Qn(r)&&eo(e,r.length):n=="string"&&e in r)?Zn(r[e],t):!1}var no=to,oo=Yn,io=no;function ao(t){return oo(function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,u=o>2?r[2]:void 0;for(i=t.length>3&&typeof i=="function"?(o--,i):void 0,u&&io(r[0],r[1],u)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var l=r[n];l&&t(e,l,n,i)}return e})}var uo=ao,so=Pn,co=On,fo=uo,po=_t,lo=bn,yo=An,go=Object.prototype,vo=go.hasOwnProperty,mo=fo(function(t,e){if(lo(e)||po(e)){co(e,yo(e),t);return}for(var r in e)vo.call(e,r)&&so(t,r,e[r])}),ho=mo;const Ur=hr(ho);function _o(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var Ar=_o,bo=Ar;function Ao(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1,n=arguments.length;r<n;){var o=arguments[r];if(o!=null)for(var i in o)bo(i,o)&&(e[i]=o[i]);r+=1}return e}var At=typeof Object.assign=="function"?Object.assign:Ao;function Po(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}var ke=Po,Oo=ke;function So(t){return function e(r){return arguments.length===0||Oo(r)?e:t.apply(this,arguments)}}var re=So,wo=At,To=re,$o=To(function(e){return wo.apply(null,[{}].concat(e))}),Pr=$o,Pt={},Ot={},St=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,r);if(u.value!==o||u.enumerable!==!0)return!1}return!0},Eo=St,Or=function(){return Eo()&&!!Symbol.toStringTag},jo=Error,Co=EvalError,Io=RangeError,Ro=ReferenceError,wt=SyntaxError,Ue=TypeError,Fo=URIError,Gr=typeof Symbol<"u"&&Symbol,Lo=St,Bo=function(){return typeof Gr!="function"||typeof Symbol!="function"||typeof Gr("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Lo()},Xe={__proto__:null,foo:{}},Mo=Object,Do=function(){return{__proto__:Xe}.foo===Xe.foo&&!(Xe instanceof Mo)},No="Function.prototype.bind called on incompatible ",ko=Object.prototype.toString,Uo=Math.max,Go="[object Function]",xr=function(e,r){for(var n=[],o=0;o<e.length;o+=1)n[o]=e[o];for(var i=0;i<r.length;i+=1)n[i+e.length]=r[i];return n},xo=function(e,r){for(var n=[],o=r||0,i=0;o<e.length;o+=1,i+=1)n[i]=e[o];return n},Jo=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},Wo=function(e){var r=this;if(typeof r!="function"||ko.apply(r)!==Go)throw new TypeError(No+r);for(var n=xo(arguments,1),o,i=function(){if(this instanceof o){var d=r.apply(this,xr(n,arguments));return Object(d)===d?d:this}return r.apply(e,xr(n,arguments))},u=Uo(0,r.length-n.length),l=[],y=0;y<u;y++)l[y]="$"+y;if(o=Function("binder","return function ("+Jo(l,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var P=function(){};P.prototype=r.prototype,o.prototype=new P,P.prototype=null}return o},Vo=Wo,Sr=Function.prototype.bind||Vo,qo=Function.prototype.call,zo=Object.prototype.hasOwnProperty,Ho=Sr,Xo=Ho.call(qo,zo),w,Ko=jo,Yo=Co,Zo=Io,Qo=Ro,_e=wt,me=Ue,ei=Fo,Tt=Function,Ke=function(t){try{return Tt('"use strict"; return ('+t+").constructor;")()}catch{}},ue=Object.getOwnPropertyDescriptor;if(ue)try{ue({},"")}catch{ue=null}var Ye=function(){throw new me},ri=ue?function(){try{return arguments.callee,Ye}catch{try{return ue(arguments,"callee").get}catch{return Ye}}}():Ye,le=Bo(),ti=Do(),M=Object.getPrototypeOf||(ti?function(t){return t.__proto__}:null),ge={},ni=typeof Uint8Array>"u"||!M?w:M(Uint8Array),se={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?w:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?w:ArrayBuffer,"%ArrayIteratorPrototype%":le&&M?M([][Symbol.iterator]()):w,"%AsyncFromSyncIteratorPrototype%":w,"%AsyncFunction%":ge,"%AsyncGenerator%":ge,"%AsyncGeneratorFunction%":ge,"%AsyncIteratorPrototype%":ge,"%Atomics%":typeof Atomics>"u"?w:Atomics,"%BigInt%":typeof BigInt>"u"?w:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?w:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?w:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?w:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Ko,"%eval%":eval,"%EvalError%":Yo,"%Float32Array%":typeof Float32Array>"u"?w:Float32Array,"%Float64Array%":typeof Float64Array>"u"?w:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?w:FinalizationRegistry,"%Function%":Tt,"%GeneratorFunction%":ge,"%Int8Array%":typeof Int8Array>"u"?w:Int8Array,"%Int16Array%":typeof Int16Array>"u"?w:Int16Array,"%Int32Array%":typeof Int32Array>"u"?w:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":le&&M?M(M([][Symbol.iterator]())):w,"%JSON%":typeof JSON=="object"?JSON:w,"%Map%":typeof Map>"u"?w:Map,"%MapIteratorPrototype%":typeof Map>"u"||!le||!M?w:M(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?w:Promise,"%Proxy%":typeof Proxy>"u"?w:Proxy,"%RangeError%":Zo,"%ReferenceError%":Qo,"%Reflect%":typeof Reflect>"u"?w:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?w:Set,"%SetIteratorPrototype%":typeof Set>"u"||!le||!M?w:M(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?w:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":le&&M?M(""[Symbol.iterator]()):w,"%Symbol%":le?Symbol:w,"%SyntaxError%":_e,"%ThrowTypeError%":ri,"%TypedArray%":ni,"%TypeError%":me,"%Uint8Array%":typeof Uint8Array>"u"?w:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?w:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?w:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?w:Uint32Array,"%URIError%":ei,"%WeakMap%":typeof WeakMap>"u"?w:WeakMap,"%WeakRef%":typeof WeakRef>"u"?w:WeakRef,"%WeakSet%":typeof WeakSet>"u"?w:WeakSet};if(M)try{null.error}catch(t){var oi=M(M(t));se["%Error.prototype%"]=oi}var ii=function t(e){var r;if(e==="%AsyncFunction%")r=Ke("async function () {}");else if(e==="%GeneratorFunction%")r=Ke("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Ke("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&M&&(r=M(o.prototype))}return se[e]=r,r},Jr={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Oe=Sr,Le=Xo,ai=Oe.call(Function.call,Array.prototype.concat),ui=Oe.call(Function.apply,Array.prototype.splice),Wr=Oe.call(Function.call,String.prototype.replace),Be=Oe.call(Function.call,String.prototype.slice),si=Oe.call(Function.call,RegExp.prototype.exec),ci=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,fi=/\\(\\)?/g,pi=function(e){var r=Be(e,0,1),n=Be(e,-1);if(r==="%"&&n!=="%")throw new _e("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new _e("invalid intrinsic syntax, expected opening `%`");var o=[];return Wr(e,ci,function(i,u,l,y){o[o.length]=l?Wr(y,fi,"$1"):u||i}),o},li=function(e,r){var n=e,o;if(Le(Jr,n)&&(o=Jr[n],n="%"+o[0]+"%"),Le(se,n)){var i=se[n];if(i===ge&&(i=ii(n)),typeof i>"u"&&!r)throw new me("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new _e("intrinsic "+e+" does not exist!")},Se=function(e,r){if(typeof e!="string"||e.length===0)throw new me("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new me('"allowMissing" argument must be a boolean');if(si(/^%?[^%]*%?$/,e)===null)throw new _e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=pi(e),o=n.length>0?n[0]:"",i=li("%"+o+"%",r),u=i.name,l=i.value,y=!1,P=i.alias;P&&(o=P[0],ui(n,ai([0,1],P)));for(var d=1,f=!0;d<n.length;d+=1){var v=n[d],_=Be(v,0,1),O=Be(v,-1);if((_==='"'||_==="'"||_==="`"||O==='"'||O==="'"||O==="`")&&_!==O)throw new _e("property names with quotes must have matching quotes");if((v==="constructor"||!f)&&(y=!0),o+="."+v,u="%"+o+"%",Le(se,u))l=se[u];else if(l!=null){if(!(v in l)){if(!r)throw new me("base intrinsic for "+e+" exists, but the property is not available.");return}if(ue&&d+1>=n.length){var J=ue(l,v);f=!!J,f&&"get"in J&&!("originalValue"in J.get)?l=J.get:l=l[v]}else f=Le(l,v),l=l[v];f&&!y&&(se[u]=l)}}return l},$t={exports:{}},Ze,Vr;function wr(){if(Vr)return Ze;Vr=1;var t=Se,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Ze=e,Ze}var yi=Se,je=yi("%Object.getOwnPropertyDescriptor%",!0);if(je)try{je([],"length")}catch{je=null}var Tr=je,qr=wr(),di=wt,ye=Ue,zr=Tr,gi=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new ye("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new ye("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ye("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ye("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ye("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ye("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,y=!!zr&&zr(e,r);if(qr)qr(e,r,{configurable:u===null&&y?y.configurable:!u,enumerable:o===null&&y?y.enumerable:!o,value:n,writable:i===null&&y?y.writable:!i});else if(l||!o&&!i&&!u)e[r]=n;else throw new di("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},fr=wr(),Et=function(){return!!fr};Et.hasArrayLengthDefineBug=function(){if(!fr)return null;try{return fr([],"length",{value:1}).length!==1}catch{return!0}};var vi=Et,mi=Se,Hr=gi,hi=vi(),Xr=Tr,Kr=Ue,_i=mi("%Math.floor%"),bi=function(e,r){if(typeof e!="function")throw new Kr("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||_i(r)!==r)throw new Kr("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],o=!0,i=!0;if("length"in e&&Xr){var u=Xr(e,"length");u&&!u.configurable&&(o=!1),u&&!u.writable&&(i=!1)}return(o||i||!n)&&(hi?Hr(e,"length",r,!0,!0):Hr(e,"length",r)),e};(function(t){var e=Sr,r=Se,n=bi,o=Ue,i=r("%Function.prototype.apply%"),u=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||e.call(u,i),y=wr(),P=r("%Math.max%");t.exports=function(v){if(typeof v!="function")throw new o("a function is required");var _=l(e,u,arguments);return n(_,1+P(0,v.length-(arguments.length-1)),!0)};var d=function(){return l(e,i,arguments)};y?y(t.exports,"apply",{value:d}):t.exports.apply=d})($t);var jt=$t.exports,Ct=Se,It=jt,Ai=It(Ct("String.prototype.indexOf")),Rt=function(e,r){var n=Ct(e,!!r);return typeof n=="function"&&Ai(e,".prototype.")>-1?It(n):n},Pi=Or(),Oi=Rt,pr=Oi("Object.prototype.toString"),Ge=function(e){return Pi&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:pr(e)==="[object Arguments]"},Ft=function(e){return Ge(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&pr(e)!=="[object Array]"&&pr(e.callee)==="[object Function]"},Si=function(){return Ge(arguments)}();Ge.isLegacyArguments=Ft;var wi=Si?Ge:Ft,Ti=Object.prototype.toString,$i=Function.prototype.toString,Ei=/^\s*(?:function)?\*/,Lt=Or(),Qe=Object.getPrototypeOf,ji=function(){if(!Lt)return!1;try{return Function("return function*() {}")()}catch{}},er,Ci=function(e){if(typeof e!="function")return!1;if(Ei.test($i.call(e)))return!0;if(!Lt){var r=Ti.call(e);return r==="[object GeneratorFunction]"}if(!Qe)return!1;if(typeof er>"u"){var n=ji();er=n?Qe(n):!1}return Qe(e)===er},Bt=Function.prototype.toString,ve=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,lr,Ce;if(typeof ve=="function"&&typeof Object.defineProperty=="function")try{lr=Object.defineProperty({},"length",{get:function(){throw Ce}}),Ce={},ve(function(){throw 42},null,lr)}catch(t){t!==Ce&&(ve=null)}else ve=null;var Ii=/^\s*class\b/,yr=function(e){try{var r=Bt.call(e);return Ii.test(r)}catch{return!1}},rr=function(e){try{return yr(e)?!1:(Bt.call(e),!0)}catch{return!1}},Ie=Object.prototype.toString,Ri="[object Object]",Fi="[object Function]",Li="[object GeneratorFunction]",Bi="[object HTMLAllCollection]",Mi="[object HTML document.all class]",Di="[object HTMLCollection]",Ni=typeof Symbol=="function"&&!!Symbol.toStringTag,ki=!(0 in[,]),dr=function(){return!1};if(typeof document=="object"){var Ui=document.all;Ie.call(Ui)===Ie.call(document.all)&&(dr=function(e){if((ki||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=Ie.call(e);return(r===Bi||r===Mi||r===Di||r===Ri)&&e("")==null}catch{}return!1})}var Gi=ve?function(e){if(dr(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{ve(e,null,lr)}catch(r){if(r!==Ce)return!1}return!yr(e)&&rr(e)}:function(e){if(dr(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Ni)return rr(e);if(yr(e))return!1;var r=Ie.call(e);return r!==Fi&&r!==Li&&!/^\[object HTML/.test(r)?!1:rr(e)},xi=Gi,Ji=Object.prototype.toString,Mt=Object.prototype.hasOwnProperty,Wi=function(e,r,n){for(var o=0,i=e.length;o<i;o++)Mt.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},Vi=function(e,r,n){for(var o=0,i=e.length;o<i;o++)n==null?r(e.charAt(o),o,e):r.call(n,e.charAt(o),o,e)},qi=function(e,r,n){for(var o in e)Mt.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},zi=function(e,r,n){if(!xi(r))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),Ji.call(e)==="[object Array]"?Wi(e,r,o):typeof e=="string"?Vi(e,r,o):qi(e,r,o)},Hi=zi,Xi=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],tr=Xi,Ki=typeof globalThis>"u"?bt:globalThis,Yi=function(){for(var e=[],r=0;r<tr.length;r++)typeof Ki[tr[r]]=="function"&&(e[e.length]=tr[r]);return e},Me=Hi,Zi=Yi,Yr=jt,$r=Rt,Re=Tr,Qi=$r("Object.prototype.toString"),Dt=Or(),Zr=typeof globalThis>"u"?bt:globalThis,gr=Zi(),Er=$r("String.prototype.slice"),nr=Object.getPrototypeOf,ea=$r("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},De={__proto__:null};Dt&&Re&&nr?Me(gr,function(t){var e=new Zr[t];if(Symbol.toStringTag in e){var r=nr(e),n=Re(r,Symbol.toStringTag);if(!n){var o=nr(r);n=Re(o,Symbol.toStringTag)}De["$"+t]=Yr(n.get)}}):Me(gr,function(t){var e=new Zr[t],r=e.slice||e.set;r&&(De["$"+t]=Yr(r))});var ra=function(e){var r=!1;return Me(De,function(n,o){if(!r)try{"$"+n(e)===o&&(r=Er(o,1))}catch{}}),r},ta=function(e){var r=!1;return Me(De,function(n,o){if(!r)try{n(e),r=Er(o,1)}catch{}}),r},Nt=function(e){if(!e||typeof e!="object")return!1;if(!Dt){var r=Er(Qi(e),8,-1);return ea(gr,r)>-1?r:r!=="Object"?!1:ta(e)}return Re?ra(e):null},na=Nt,oa=function(e){return!!na(e)};(function(t){var e=wi,r=Ci,n=Nt,o=oa;function i(c){return c.call.bind(c)}var u=typeof BigInt<"u",l=typeof Symbol<"u",y=i(Object.prototype.toString),P=i(Number.prototype.valueOf),d=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(u)var v=i(BigInt.prototype.valueOf);if(l)var _=i(Symbol.prototype.valueOf);function O(c,He){if(typeof c!="object")return!1;try{return He(c),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=o;function J(c){return typeof Promise<"u"&&c instanceof Promise||c!==null&&typeof c=="object"&&typeof c.then=="function"&&typeof c.catch=="function"}t.isPromise=J;function G(c){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(c):o(c)||a(c)}t.isArrayBufferView=G;function K(c){return n(c)==="Uint8Array"}t.isUint8Array=K;function Y(c){return n(c)==="Uint8ClampedArray"}t.isUint8ClampedArray=Y;function m(c){return n(c)==="Uint16Array"}t.isUint16Array=m;function h(c){return n(c)==="Uint32Array"}t.isUint32Array=h;function $(c){return n(c)==="Int8Array"}t.isInt8Array=$;function B(c){return n(c)==="Int16Array"}t.isInt16Array=B;function oe(c){return n(c)==="Int32Array"}t.isInt32Array=oe;function Z(c){return n(c)==="Float32Array"}t.isFloat32Array=Z;function F(c){return n(c)==="Float64Array"}t.isFloat64Array=F;function L(c){return n(c)==="BigInt64Array"}t.isBigInt64Array=L;function X(c){return n(c)==="BigUint64Array"}t.isBigUint64Array=X;function D(c){return y(c)==="[object Map]"}D.working=typeof Map<"u"&&D(new Map);function W(c){return typeof Map>"u"?!1:D.working?D(c):c instanceof Map}t.isMap=W;function te(c){return y(c)==="[object Set]"}te.working=typeof Set<"u"&&te(new Set);function ie(c){return typeof Set>"u"?!1:te.working?te(c):c instanceof Set}t.isSet=ie;function N(c){return y(c)==="[object WeakMap]"}N.working=typeof WeakMap<"u"&&N(new WeakMap);function ce(c){return typeof WeakMap>"u"?!1:N.working?N(c):c instanceof WeakMap}t.isWeakMap=ce;function ae(c){return y(c)==="[object WeakSet]"}ae.working=typeof WeakSet<"u"&&ae(new WeakSet);function fe(c){return ae(c)}t.isWeakSet=fe;function x(c){return y(c)==="[object ArrayBuffer]"}x.working=typeof ArrayBuffer<"u"&&x(new ArrayBuffer);function pe(c){return typeof ArrayBuffer>"u"?!1:x.working?x(c):c instanceof ArrayBuffer}t.isArrayBuffer=pe;function ne(c){return y(c)==="[object DataView]"}ne.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ne(new DataView(new ArrayBuffer(1),0,1));function a(c){return typeof DataView>"u"?!1:ne.working?ne(c):c instanceof DataView}t.isDataView=a;var s=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function p(c){return y(c)==="[object SharedArrayBuffer]"}function A(c){return typeof s>"u"?!1:(typeof p.working>"u"&&(p.working=p(new s)),p.working?p(c):c instanceof s)}t.isSharedArrayBuffer=A;function E(c){return y(c)==="[object AsyncFunction]"}t.isAsyncFunction=E;function j(c){return y(c)==="[object Map Iterator]"}t.isMapIterator=j;function S(c){return y(c)==="[object Set Iterator]"}t.isSetIterator=S;function T(c){return y(c)==="[object Generator]"}t.isGeneratorObject=T;function C(c){return y(c)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=C;function g(c){return O(c,P)}t.isNumberObject=g;function b(c){return O(c,d)}t.isStringObject=b;function R(c){return O(c,f)}t.isBooleanObject=R;function q(c){return u&&O(c,v)}t.isBigIntObject=q;function ee(c){return l&&O(c,_)}t.isSymbolObject=ee;function ze(c){return g(c)||b(c)||R(c)||q(c)||ee(c)}t.isBoxedPrimitive=ze;function we(c){return typeof Uint8Array<"u"&&(pe(c)||A(c))}t.isAnyArrayBuffer=we,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(c){Object.defineProperty(t,c,{enumerable:!1,value:function(){throw new Error(c+" is not supported in userland")}})})})(Ot);var ia=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},vr={exports:{}};typeof Object.create=="function"?vr.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:vr.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var aa=vr.exports;(function(t){var e={},r=Object.getOwnPropertyDescriptors||function(s){for(var p=Object.keys(s),A={},E=0;E<p.length;E++)A[p[E]]=Object.getOwnPropertyDescriptor(s,p[E]);return A},n=/%[sdj%]/g;t.format=function(a){if(!B(a)){for(var s=[],p=0;p<arguments.length;p++)s.push(l(arguments[p]));return s.join(" ")}for(var p=1,A=arguments,E=A.length,j=String(a).replace(n,function(T){if(T==="%%")return"%";if(p>=E)return T;switch(T){case"%s":return String(A[p++]);case"%d":return Number(A[p++]);case"%j":try{return JSON.stringify(A[p++])}catch{return"[Circular]"}default:return T}}),S=A[p];p<E;S=A[++p])m(S)||!L(S)?j+=" "+S:j+=" "+l(S);return j},t.deprecate=function(a,s){if(typeof process<"u"&&process.noDeprecation===!0)return a;if(typeof process>"u")return function(){return t.deprecate(a,s).apply(this,arguments)};var p=!1;function A(){if(!p){if(process.throwDeprecation)throw new Error(s);process.traceDeprecation?console.trace(s):console.error(s),p=!0}return a.apply(this,arguments)}return A};var o={},i=/^$/;if(e.NODE_DEBUG){var u=e.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+u+"$","i")}t.debuglog=function(a){if(a=a.toUpperCase(),!o[a])if(i.test(a)){var s=process.pid;o[a]=function(){var p=t.format.apply(t,arguments);console.error("%s %d: %s",a,s,p)}}else o[a]=function(){};return o[a]};function l(a,s){var p={seen:[],stylize:P};return arguments.length>=3&&(p.depth=arguments[2]),arguments.length>=4&&(p.colors=arguments[3]),Y(s)?p.showHidden=s:s&&t._extend(p,s),Z(p.showHidden)&&(p.showHidden=!1),Z(p.depth)&&(p.depth=2),Z(p.colors)&&(p.colors=!1),Z(p.customInspect)&&(p.customInspect=!0),p.colors&&(p.stylize=y),f(p,a,p.depth)}t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function y(a,s){var p=l.styles[s];return p?"\x1B["+l.colors[p][0]+"m"+a+"\x1B["+l.colors[p][1]+"m":a}function P(a,s){return a}function d(a){var s={};return a.forEach(function(p,A){s[p]=!0}),s}function f(a,s,p){if(a.customInspect&&s&&W(s.inspect)&&s.inspect!==t.inspect&&!(s.constructor&&s.constructor.prototype===s)){var A=s.inspect(p,a);return B(A)||(A=f(a,A,p)),A}var E=v(a,s);if(E)return E;var j=Object.keys(s),S=d(j);if(a.showHidden&&(j=Object.getOwnPropertyNames(s)),D(s)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return _(s);if(j.length===0){if(W(s)){var T=s.name?": "+s.name:"";return a.stylize("[Function"+T+"]","special")}if(F(s))return a.stylize(RegExp.prototype.toString.call(s),"regexp");if(X(s))return a.stylize(Date.prototype.toString.call(s),"date");if(D(s))return _(s)}var C="",g=!1,b=["{","}"];if(K(s)&&(g=!0,b=["[","]"]),W(s)){var R=s.name?": "+s.name:"";C=" [Function"+R+"]"}if(F(s)&&(C=" "+RegExp.prototype.toString.call(s)),X(s)&&(C=" "+Date.prototype.toUTCString.call(s)),D(s)&&(C=" "+_(s)),j.length===0&&(!g||s.length==0))return b[0]+C+b[1];if(p<0)return F(s)?a.stylize(RegExp.prototype.toString.call(s),"regexp"):a.stylize("[Object]","special");a.seen.push(s);var q;return g?q=O(a,s,p,S,j):q=j.map(function(ee){return J(a,s,p,S,ee,g)}),a.seen.pop(),G(q,C,b)}function v(a,s){if(Z(s))return a.stylize("undefined","undefined");if(B(s)){var p="'"+JSON.stringify(s).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(p,"string")}if($(s))return a.stylize(""+s,"number");if(Y(s))return a.stylize(""+s,"boolean");if(m(s))return a.stylize("null","null")}function _(a){return"["+Error.prototype.toString.call(a)+"]"}function O(a,s,p,A,E){for(var j=[],S=0,T=s.length;S<T;++S)fe(s,String(S))?j.push(J(a,s,p,A,String(S),!0)):j.push("");return E.forEach(function(C){C.match(/^\d+$/)||j.push(J(a,s,p,A,C,!0))}),j}function J(a,s,p,A,E,j){var S,T,C;if(C=Object.getOwnPropertyDescriptor(s,E)||{value:s[E]},C.get?C.set?T=a.stylize("[Getter/Setter]","special"):T=a.stylize("[Getter]","special"):C.set&&(T=a.stylize("[Setter]","special")),fe(A,E)||(S="["+E+"]"),T||(a.seen.indexOf(C.value)<0?(m(p)?T=f(a,C.value,null):T=f(a,C.value,p-1),T.indexOf(`
`)>-1&&(j?T=T.split(`
`).map(function(g){return"  "+g}).join(`
`).slice(2):T=`
`+T.split(`
`).map(function(g){return"   "+g}).join(`
`))):T=a.stylize("[Circular]","special")),Z(S)){if(j&&E.match(/^\d+$/))return T;S=JSON.stringify(""+E),S.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(S=S.slice(1,-1),S=a.stylize(S,"name")):(S=S.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),S=a.stylize(S,"string"))}return S+": "+T}function G(a,s,p){var A=a.reduce(function(E,j){return j.indexOf(`
`)>=0,E+j.replace(/\u001b\[\d\d?m/g,"").length+1},0);return A>60?p[0]+(s===""?"":s+`
 `)+" "+a.join(`,
  `)+" "+p[1]:p[0]+s+" "+a.join(", ")+" "+p[1]}t.types=Ot;function K(a){return Array.isArray(a)}t.isArray=K;function Y(a){return typeof a=="boolean"}t.isBoolean=Y;function m(a){return a===null}t.isNull=m;function h(a){return a==null}t.isNullOrUndefined=h;function $(a){return typeof a=="number"}t.isNumber=$;function B(a){return typeof a=="string"}t.isString=B;function oe(a){return typeof a=="symbol"}t.isSymbol=oe;function Z(a){return a===void 0}t.isUndefined=Z;function F(a){return L(a)&&ie(a)==="[object RegExp]"}t.isRegExp=F,t.types.isRegExp=F;function L(a){return typeof a=="object"&&a!==null}t.isObject=L;function X(a){return L(a)&&ie(a)==="[object Date]"}t.isDate=X,t.types.isDate=X;function D(a){return L(a)&&(ie(a)==="[object Error]"||a instanceof Error)}t.isError=D,t.types.isNativeError=D;function W(a){return typeof a=="function"}t.isFunction=W;function te(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||typeof a>"u"}t.isPrimitive=te,t.isBuffer=ia;function ie(a){return Object.prototype.toString.call(a)}function N(a){return a<10?"0"+a.toString(10):a.toString(10)}var ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ae(){var a=new Date,s=[N(a.getHours()),N(a.getMinutes()),N(a.getSeconds())].join(":");return[a.getDate(),ce[a.getMonth()],s].join(" ")}t.log=function(){console.log("%s - %s",ae(),t.format.apply(t,arguments))},t.inherits=aa,t._extend=function(a,s){if(!s||!L(s))return a;for(var p=Object.keys(s),A=p.length;A--;)a[p[A]]=s[p[A]];return a};function fe(a,s){return Object.prototype.hasOwnProperty.call(a,s)}var x=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(s){if(typeof s!="function")throw new TypeError('The "original" argument must be of type Function');if(x&&s[x]){var p=s[x];if(typeof p!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(p,x,{value:p,enumerable:!1,writable:!1,configurable:!0}),p}function p(){for(var A,E,j=new Promise(function(C,g){A=C,E=g}),S=[],T=0;T<arguments.length;T++)S.push(arguments[T]);S.push(function(C,g){C?E(C):A(g)});try{s.apply(this,S)}catch(C){E(C)}return j}return Object.setPrototypeOf(p,Object.getPrototypeOf(s)),x&&Object.defineProperty(p,x,{value:p,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(p,r(s))},t.promisify.custom=x;function pe(a,s){if(!a){var p=new Error("Promise was rejected with a falsy value");p.reason=a,a=p}return s(a)}function ne(a){if(typeof a!="function")throw new TypeError('The "original" argument must be of type Function');function s(){for(var p=[],A=0;A<arguments.length;A++)p.push(arguments[A]);var E=p.pop();if(typeof E!="function")throw new TypeError("The last argument must be of type Function");var j=this,S=function(){return E.apply(j,arguments)};a.apply(this,p).then(function(T){process.nextTick(S.bind(null,null,T))},function(T){process.nextTick(pe.bind(null,T,S))})}return Object.setPrototypeOf(s,Object.getPrototypeOf(a)),Object.defineProperties(s,r(a)),s}t.callbackify=ne})(Pt);var ua=function(e){return e?e instanceof Array||Array.isArray(e)||e.length>=0&&e.splice instanceof Function:!1},sa=Pt,ca=ua,jr=function(e,r){(!e||e.constructor!==String)&&(r=e||{},e=Error.name);var n=function o(i){if(!this)return new o(i);i=i instanceof Error?i.message:i||this.message,Error.call(this,i),Error.captureStackTrace(this,n),this.name=e,Object.defineProperty(this,"message",{configurable:!0,enumerable:!1,get:function(){var d=i.split(/\r?\n/g);for(var f in r)if(r.hasOwnProperty(f)){var v=r[f];"message"in v&&(d=v.message(this[f],d)||d,ca(d)||(d=[d]))}return d.join(`
`)},set:function(d){i=d}});var u=null,l=Object.getOwnPropertyDescriptor(this,"stack"),y=l.get,P=l.value;delete l.value,delete l.writable,l.set=function(d){u=d},l.get=function(){var d=(u||(y?y.call(this):P)).split(/\r?\n+/g);u||(d[0]=this.name+": "+this.message);var f=1;for(var v in r)if(r.hasOwnProperty(v)){var _=r[v];if("line"in _){var O=_.line(this[v]);O&&d.splice(f++,0,"    "+O)}"stack"in _&&_.stack(this[v],d)}return d.join(`
`)},Object.defineProperty(this,"stack",l)};return Object.setPrototypeOf?(Object.setPrototypeOf(n.prototype,Error.prototype),Object.setPrototypeOf(n,Error)):sa.inherits(n,Error),n};jr.append=function(t,e){return{message:function(r,n){return r=r||e,r&&(n[0]+=" "+t.replace("%s",r.toString())),n}}};jr.line=function(t,e){return{line:function(r){return r=r||e,r?t.replace("%s",r.toString()):null}}};var kt=jr;const fa=hr(kt),pa=Pr,la=kt;function k(t){return{[t]:la(t)}}var ya=pa([k("InvalidPredicateType"),k("UnknownJSONData"),k("CompoundPredicateMustHaveAtLeastOneSubPredicate"),k("RootPredicateMustBeACompoundPredicate"),k("PredicateMustBeACompoundPredicate"),k("PredicateMustBeAComparisonPredicate"),k("AddCurrentlyOnlySupportAfterInsertion"),k("TargetMustReferToADefinedType"),k("LogicalType_idMustReferToADefinedLogicalType"),k("Target_idMustReferToADefinedTarget"),k("Operator_idMustReferToADefinedOperator"),k("Operator_idMustReferToADefinedOperator"),k("ForbiddenCannotRemoveRootCompoundPredicate"),k("ForbiddenCannotRemoveLastComparisonPredicate"),k("CannotRemoveSomethingElseThanACompoundPredicateOrAComparisonPredicate"),k("CannotAddSomethingElseThanACompoundPredicateOrAComparisonPredicate"),k("UIFrameworkMustImplementgetDefaultArgumentComponent")]),da={TARGETS:"TARGETS",LOGICAL_TYPES:"LOGICAL_TYPES",OPERATORS:"OPERATORS",PREDICATE_ADD:"PREDICATE_ADD",PREDICATE_REMOVE:"PREDICATE_REMOVE",ARGUMENT_DEFAULT:"ARGUMENT_DEFAULT"},ga={predicateToRemoveIsRootPredicate:(t,e)=>t===e,predicateToRemoveIsTheLastComparisonPredicate:(t,e,r)=>e.reduce(t,(o,i)=>r.is(i)?o+1:o,0)===1},va=({errors:t,rules:e})=>({CompoundPredicateMustHaveAtLeastOneSubPredicate:r=>!Array.isArray(r)||r.length===0?Promise.reject(new t.CompoundPredicateMustHaveAtLeastOneSubPredicate):Promise.resolve(),PredicateTypeMustBeValid:(r,n)=>Object.keys(n).includes(r)?Promise.resolve():Promise.reject(new t.InvalidPredicateType),RootPredicateMustBeACompoundPredicate:(r,n)=>n.is(r)?Promise.resolve(r):Promise.reject(new t.RootPredicateMustBeACompoundPredicate),PredicateMustBeAComparisonPredicate:(r,n)=>n.is(r)?Promise.resolve():Promise.reject(new t.PredicateMustBeAComparisonPredicate),PredicateMustBeACompoundPredicate:(r,n)=>n.is(r)?Promise.resolve():Promise.reject(new t.PredicateMustBeACompoundPredicate),AddOnlySupportsAfter:r=>r!=="after"?Promise.reject(new t.AddCurrentlyOnlySupportAfterInsertion):Promise.resolve(),TargetMustReferToADefinedType:(r,n)=>r.isNone()?Promise.reject(new t.TargetMustReferToADefinedType(`target ${JSON.stringify(n.target_id)} does not refer to a defined type, target.type_id=${JSON.stringify(n.type_id)}`)):Promise.resolve(r.value()),LogicalType_idMustReferToADefinedLogicalType:r=>r?Promise.resolve(r):Promise.reject(new t.LogicalType_idMustReferToADefinedLogicalType),Target_idMustReferToADefinedTarget:r=>r?Promise.resolve(r):Promise.reject(new t.Target_idMustReferToADefinedTarget),Operator_idMustReferToADefinedOperator:r=>r?Promise.resolve(r):Promise.reject(new t.Operator_idMustReferToADefinedOperator),RemovePredicateMustDifferFromRootPredicate:(r,n)=>e.predicateToRemoveIsRootPredicate(r,n)?Promise.reject(new t.ForbiddenCannotRemoveRootCompoundPredicate):Promise.resolve(n),RemovePredicateCannotBeTheLastComparisonPredicate:(r,n,o,i)=>i.is(n)&&e.predicateToRemoveIsTheLastComparisonPredicate(r,o,i)?Promise.reject(new t.ForbiddenCannotRemoveLastComparisonPredicate):Promise.resolve()}),or=re,be=ke;function ma(t){return function e(r,n){switch(arguments.length){case 0:return e;case 1:return be(r)?e:or(function(o){return t(r,o)});default:return be(r)&&be(n)?e:be(r)?or(function(o){return t(o,n)}):be(n)?or(function(o){return t(r,o)}):t(r,n)}}}var H=ma,ha=At,_a=H,ba=_a(function(e,r){return ha({},e,r)}),Cr=ba,ir,Qr;function Aa(){if(Qr)return ir;Qr=1;var t=re,e=`	
\v\f\r   ᠎             　\u2028\u2029\uFEFF`,r="​",n=typeof String.prototype.trim=="function",o=t(!n||e.trim()||!r.trim()?function(u){var l=new RegExp("^["+e+"]["+e+"]*"),y=new RegExp("["+e+"]["+e+"]*$");return u.replace(l,"").replace(y,"")}:function(u){return u.trim()});return ir=o,ir}var ar,et;function Ut(){return et||(et=1,ar=function(e){return{$_type:e}}),ar}var ur,rt;function Gt(){if(rt)return ur;rt=1;const t=Pr,e=Aa(),r=Ut();function n(f){const{target_id:v,label:_,type_id:O}=d(f,"target_id,label,type_id");return t([r("Target"),{target_id:v,label:_,type_id:O},f])}n.toJSON=function(f){return{target_id:f.target_id}};function o(f){const{operator_id:v,label:_,argumentType_id:O}=d(f,"operator_id,label,argumentType_id");return t([r("Operator"),{operator_id:v,argumentType_id:O,label:_},f])}o.toJSON=function(f){return{operator_id:f.operator_id}};function i(f){const{type_id:v,operator_ids:_}=d(f,"type_id,operator_ids");return t([r("Type"),{type_id:v,operator_ids:_},f])}function u(f){const{logicalType_id:v,label:_}=d(f,"logicalType_id,label");return t([r("LogicalType"),{logicalType_id:v,label:_},f])}u.toJSON=function(f){return{logicalType_id:f.logicalType_id}};function l(f){const{argumentType_id:v,component:_}=d(f,"argumentType_id,component");return t([r("ArgumentType"),{argumentType_id:v,component:_},f])}const y=Object.prototype.toString;function P(f){return y.call(f)==="[object Object]"}function d(f,v){if(!P(f))throw new Error(`Object is required, got: ${JSON.stringify(f)}.`);const _=v.split(",").map(e);let O;for(;O=_.pop();)if(!f.hasOwnProperty(O))throw new Error(`Object ${JSON.stringify(f)} MUST have a '${O}' property.`);return f}return ur={Type:i,Target:n,Operator:o,LogicalType:u,ArgumentType:l,_requireProps:d},ur}var sr,tt;function Pa(){if(tt)return sr;tt=1;const t=Cr,e=Pr,r=Ut();return sr=({invariants:n,errors:o})=>{const{Target:i,Operator:u,LogicalType:l}=Gt();function y(f){return n.PredicateTypeMustBeValid(f.$name,y.Types).then(()=>t(r(f.$name),{$canBeRemoved:!0}))}y.toJSON=function(f){return P.is(f)?P.toJSON(f):d.toJSON(f)},y.fromJSON=function(f,v){return P.isFromJSON(f)?P.fromJSON(f,v):d.isFromJSON(f)?d.fromJSON(f,v):Promise.reject(new o.UnknownJSONData)},y.Types={ComparisonPredicate:"ComparisonPredicate",CompoundPredicate:"CompoundPredicate"};function P(f,v,_=null){return y(P).then(O=>t(O,{target:f,operator:v,argument:_}))}P.$name=y.Types.ComparisonPredicate,P.toJSON=function(f){return e([i.toJSON(f.target),u.toJSON(f.operator),{argument:f.argument}])},P.fromJSON=function(f,v){return Promise.all([v.getTargetById(f.target_id),v.getOperatorById(f.operator_id)]).then(([_,O])=>P(_,O,f.argument))},P.is=f=>f&&f.$_type===y.Types.ComparisonPredicate,P.isFromJSON=f=>f&&f.target_id;function d(f,v){return n.CompoundPredicateMustHaveAtLeastOneSubPredicate(v,d).then(()=>y(d)).then(_=>t(_,{logic:f,predicates:v}))}return d.$name=y.Types.CompoundPredicate,d.toJSON=function(f){return e([l.toJSON(f.logic),{predicates:f.predicates.map(y.toJSON)}])},d.fromJSON=function(f,v){return n.CompoundPredicateMustHaveAtLeastOneSubPredicate(f.predicates,d).then(()=>v.getLogicalTypeById(f.logicalType_id)).then(_=>Promise.all(f.predicates.map(O=>y.fromJSON(O,v))).then(O=>d(_,O)))},d.reduce=function(f,v,_,O=[]){const J=v(_,f,O);return f.predicates.reduce((G,K,Y)=>{const m=O.concat([f,[K,Y]]);return d.is(K)?d.reduce(K,v,G,m):v(G,K,m)},J)},d.forEach=(f,v)=>{d.reduce(f,(_,O)=>{v(O)},null)},d.is=f=>f&&f.$_type===y.Types.CompoundPredicate,d.isFromJSON=f=>f&&f.logicalType_id,{Predicate:y,ComparisonPredicate:P,CompoundPredicate:d}},sr}const Oa=Cr;var Sa=t=>Oa(Gt(),Pa()(t)),Ir=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function wa(t){return t!=null&&typeof t["@@transducer/step"]=="function"}var Ta=wa,$a=Ir,Ea=Ta;function ja(t,e,r){return function(){if(arguments.length===0)return r();var n=Array.prototype.slice.call(arguments,0),o=n.pop();if(!$a(o)){for(var i=0;i<t.length;){if(typeof o[t[i]]=="function")return o[t[i]].apply(o,n);i+=1}if(Ea(o)){var u=e.apply(null,n);return u(o)}}return r.apply(this,arguments)}}var xe=ja;function Ca(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var Ia=Ca,Je={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},Ra=H,Fa=Ia,La=Je,Ba=function(){function t(e,r){this.xf=r,this.f=e,this.found=!1}return t.prototype["@@transducer/init"]=La.init,t.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.f(r)&&(this.found=!0,e=Fa(this.xf["@@transducer/step"](e,r))),e},t}(),Ma=Ra(function(e,r){return new Ba(e,r)}),Da=Ma,Na=H,ka=xe,Ua=Da,Ga=Na(ka(["find"],Ua,function(e,r){for(var n=0,o=r.length;n<o;){if(e(r[n]))return r[n];n+=1}})),xa=Ga;function Ja(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,n){return e.apply(this,arguments)};case 3:return function(r,n,o){return e.apply(this,arguments)};case 4:return function(r,n,o,i){return e.apply(this,arguments)};case 5:return function(r,n,o,i,u){return e.apply(this,arguments)};case 6:return function(r,n,o,i,u,l){return e.apply(this,arguments)};case 7:return function(r,n,o,i,u,l,y){return e.apply(this,arguments)};case 8:return function(r,n,o,i,u,l,y,P){return e.apply(this,arguments)};case 9:return function(r,n,o,i,u,l,y,P,d){return e.apply(this,arguments)};case 10:return function(r,n,o,i,u,l,y,P,d,f){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var We=Ja,Wa=We,nt=ke;function xt(t,e,r){return function(){for(var n=[],o=0,i=t,u=0;u<e.length||o<arguments.length;){var l;u<e.length&&(!nt(e[u])||o>=arguments.length)?l=e[u]:(l=arguments[o],o+=1),n[u]=l,nt(l)||(i-=1),u+=1}return i<=0?r.apply(this,n):Wa(i,xt(t,n,r))}}var Va=xt,qa=We,za=re,Ha=H,Xa=Va,Ka=Ha(function(e,r){return e===1?za(r):qa(e,Xa(e,[],r))}),Jt=Ka,Ya=re,Za=Jt,Qa=Ya(function(e){return Za(e.length,e)}),eu=Qa;function ru(t,e){return function(){return e.call(this,t.apply(this,arguments))}}var tu=ru,Te=re,de=H,U=ke;function nu(t){return function e(r,n,o){switch(arguments.length){case 0:return e;case 1:return U(r)?e:de(function(i,u){return t(r,i,u)});case 2:return U(r)&&U(n)?e:U(r)?de(function(i,u){return t(i,n,u)}):U(n)?de(function(i,u){return t(r,i,u)}):Te(function(i){return t(r,n,i)});default:return U(r)&&U(n)&&U(o)?e:U(r)&&U(n)?de(function(i,u){return t(i,u,o)}):U(r)&&U(o)?de(function(i,u){return t(i,n,u)}):U(n)&&U(o)?de(function(i,u){return t(r,i,u)}):U(r)?Te(function(i){return t(i,n,o)}):U(n)?Te(function(i){return t(r,i,o)}):U(o)?Te(function(i){return t(r,n,i)}):t(r,n,o)}}}var Rr=nu;function ou(t){return Object.prototype.toString.call(t)==="[object String]"}var iu=ou,au=re,uu=Ir,su=iu,cu=au(function(e){return uu(e)?!0:!e||typeof e!="object"||su(e)?!1:e.nodeType===1?!!e.length:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),fu=cu,pu=function(){function t(e){this.f=e}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(e){return e},t.prototype["@@transducer/step"]=function(e,r){return this.f(e,r)},t}();function lu(t){return new pu(t)}var yu=lu,du=We,gu=H,vu=gu(function(e,r){return du(e.length,function(){return e.apply(r,arguments)})}),mu=vu,hu=fu,_u=yu,bu=mu;function Au(t,e,r){for(var n=0,o=r.length;n<o;){if(e=t["@@transducer/step"](e,r[n]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return t["@@transducer/result"](e)}function ot(t,e,r){for(var n=r.next();!n.done;){if(e=t["@@transducer/step"](e,n.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=r.next()}return t["@@transducer/result"](e)}function it(t,e,r,n){return t["@@transducer/result"](r[n](bu(t["@@transducer/step"],t),e))}var at=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function Pu(t,e,r){if(typeof t=="function"&&(t=_u(t)),hu(r))return Au(t,e,r);if(typeof r["fantasy-land/reduce"]=="function")return it(t,e,r,"fantasy-land/reduce");if(r[at]!=null)return ot(t,e,r[at]());if(typeof r.next=="function")return ot(t,e,r);if(typeof r.reduce=="function")return it(t,e,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var Fr=Pu,Ou=Rr,Su=Fr,wu=Ou(Su),Tu=wu,$u=Ir;function Eu(t,e){return function(){var r=arguments.length;if(r===0)return e();var n=arguments[r-1];return $u(n)||typeof n[t]!="function"?e.apply(this,arguments):n[t].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var Wt=Eu,ju=Wt,Cu=Rr,Iu=Cu(ju("slice",function(e,r,n){return Array.prototype.slice.call(n,e,r)})),Vt=Iu,Ru=Wt,Fu=re,Lu=Vt,Bu=Fu(Ru("tail",Lu(1,1/0))),Mu=Bu,Du=We,Nu=tu,ku=Tu,Uu=Mu;function Gu(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return Du(arguments[0].length,ku(Nu,arguments[0],Uu(arguments)))}var xu=Gu;function Ju(t,e){for(var r=0,n=e.length,o=[];r<n;)t(e[r])&&(o[o.length]=e[r]),r+=1;return o}var Wu=Ju;function Vu(t){return Object.prototype.toString.call(t)==="[object Object]"}var qu=Vu,zu=H,ut=Je,Hu=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=ut.init,t.prototype["@@transducer/result"]=ut.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r)?this.xf["@@transducer/step"](e,r):e},t}(),Xu=zu(function(e,r){return new Hu(e,r)}),Ku=Xu,Yu=Ar,st=Object.prototype.toString,Zu=function(){return st.call(arguments)==="[object Arguments]"?function(e){return st.call(e)==="[object Arguments]"}:function(e){return Yu("callee",e)}}(),Qu=Zu,ct=re,ft=Ar,es=Qu,rs=!{toString:null}.propertyIsEnumerable("toString"),pt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],lt=function(){return arguments.propertyIsEnumerable("length")}(),ts=function(e,r){for(var n=0;n<e.length;){if(e[n]===r)return!0;n+=1}return!1},ns=ct(typeof Object.keys=="function"&&!lt?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var r,n,o=[],i=lt&&es(e);for(r in e)ft(r,e)&&(!i||r!=="length")&&(o[o.length]=r);if(rs)for(n=pt.length-1;n>=0;)r=pt[n],ft(r,e)&&!ts(o,r)&&(o[o.length]=r),n-=1;return o}),qt=ns,os=H,is=xe,as=Wu,us=qu,ss=Fr,cs=Ku,fs=qt,ps=os(is(["filter"],cs,function(t,e){return us(e)?ss(function(r,n){return t(e[n])&&(r[n]=e[n]),r},{},fs(e)):as(t,e)})),ls=ps;function ys(t,e){for(var r=0,n=e.length,o=Array(n);r<n;)o[r]=t(e[r]),r+=1;return o}var ds=ys,gs=H,yt=Je,vs=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=yt.init,t.prototype["@@transducer/result"]=yt.result,t.prototype["@@transducer/step"]=function(e,r){return this.xf["@@transducer/step"](e,this.f(r))},t}(),ms=gs(function(e,r){return new vs(e,r)}),hs=ms,_s=H,bs=xe,As=ds,Ps=Fr,Os=hs,Ss=Jt,ws=qt,Ts=_s(bs(["fantasy-land/map","map"],Os,function(e,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return Ss(r.length,function(){return e.call(this,r.apply(this,arguments))});case"[object Object]":return Ps(function(n,o){return n[o]=e(r[o]),n},{},ws(r));default:return As(e,r)}})),$s=Ts,Es=H,dt=Je,js=function(){function t(e,r){this.xf=r,this.n=e}return t.prototype["@@transducer/init"]=dt.init,t.prototype["@@transducer/result"]=dt.result,t.prototype["@@transducer/step"]=function(e,r){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,r)},t}(),Cs=Es(function(e,r){return new js(e,r)}),Is=Cs,Rs=H,Fs=xe,Ls=Is,Bs=Vt,Ms=Rs(Fs(["drop"],Ls,function(e,r){return Bs(Math.max(0,e),1/0,r)})),Ds=Ms,Ns=H,ks=Ds,Us=Ns(function(e,r){return ks(e>=0?r.length-e:0,r)}),Gs=Us,xs=Rr,Js=xs(function(e,r,n){e=e<n.length&&e>=0?e:n.length;var o=Array.prototype.slice.call(n,0);return o.splice(e,0,r),o}),Ws=Js,zt={};(function(t){t.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return t.none},flatMap:function(){return t.none},filter:function(){return t.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(n){return typeof n=="function"?n():n}t.some=function(n){return new r(n)};var r=function(n){this._value=n};r.prototype.value=function(){return this._value},r.prototype.isNone=function(){return!1},r.prototype.isSome=function(){return!0},r.prototype.map=function(n){return new r(n(this._value))},r.prototype.flatMap=function(n){return n(this._value)},r.prototype.filter=function(n){return n(this._value)?this:t.none},r.prototype.toArray=function(){return[this._value]},r.prototype.orElse=function(n){return this},r.prototype.valueOrElse=function(n){return this._value},t.isOption=function(n){return n===t.none||n instanceof r},t.fromNullable=function(n){return n==null?t.none:new r(n)}})(zt);var Lr={exports:{}},he=typeof Reflect=="object"?Reflect:null,gt=he&&typeof he.apply=="function"?he.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Fe;he&&typeof he.ownKeys=="function"?Fe=he.ownKeys:Object.getOwnPropertySymbols?Fe=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Fe=function(e){return Object.getOwnPropertyNames(e)};function Vs(t){console&&console.warn&&console.warn(t)}var Ht=Number.isNaN||function(e){return e!==e};function I(){I.init.call(this)}Lr.exports=I;Lr.exports.once=Xs;I.EventEmitter=I;I.prototype._events=void 0;I.prototype._eventsCount=0;I.prototype._maxListeners=void 0;var vt=10;function Ve(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(I,"defaultMaxListeners",{enumerable:!0,get:function(){return vt},set:function(t){if(typeof t!="number"||t<0||Ht(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");vt=t}});I.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};I.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ht(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Xt(t){return t._maxListeners===void 0?I.defaultMaxListeners:t._maxListeners}I.prototype.getMaxListeners=function(){return Xt(this)};I.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var o=e==="error",i=this._events;if(i!==void 0)o=o&&i.error===void 0;else if(!o)return!1;if(o){var u;if(r.length>0&&(u=r[0]),u instanceof Error)throw u;var l=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw l.context=u,l}var y=i[e];if(y===void 0)return!1;if(typeof y=="function")gt(y,this,r);else for(var P=y.length,d=en(y,P),n=0;n<P;++n)gt(d[n],this,r);return!0};function Kt(t,e,r,n){var o,i,u;if(Ve(r),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),u=i[e]),u===void 0)u=i[e]=r,++t._eventsCount;else if(typeof u=="function"?u=i[e]=n?[r,u]:[u,r]:n?u.unshift(r):u.push(r),o=Xt(t),o>0&&u.length>o&&!u.warned){u.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=u.length,Vs(l)}return t}I.prototype.addListener=function(e,r){return Kt(this,e,r,!1)};I.prototype.on=I.prototype.addListener;I.prototype.prependListener=function(e,r){return Kt(this,e,r,!0)};function qs(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Yt(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=qs.bind(n);return o.listener=r,n.wrapFn=o,o}I.prototype.once=function(e,r){return Ve(r),this.on(e,Yt(this,e,r)),this};I.prototype.prependOnceListener=function(e,r){return Ve(r),this.prependListener(e,Yt(this,e,r)),this};I.prototype.removeListener=function(e,r){var n,o,i,u,l;if(Ve(r),o=this._events,o===void 0)return this;if(n=o[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(i=-1,u=n.length-1;u>=0;u--)if(n[u]===r||n[u].listener===r){l=n[u].listener,i=u;break}if(i<0)return this;i===0?n.shift():zs(n,i),n.length===1&&(o[e]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",e,l||r)}return this};I.prototype.off=I.prototype.removeListener;I.prototype.removeAllListeners=function(e){var r,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i=Object.keys(n),u;for(o=0;o<i.length;++o)u=i[o],u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(o=r.length-1;o>=0;o--)this.removeListener(e,r[o]);return this};function Zt(t,e,r){var n=t._events;if(n===void 0)return[];var o=n[e];return o===void 0?[]:typeof o=="function"?r?[o.listener||o]:[o]:r?Hs(o):en(o,o.length)}I.prototype.listeners=function(e){return Zt(this,e,!0)};I.prototype.rawListeners=function(e){return Zt(this,e,!1)};I.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Qt.call(t,e)};I.prototype.listenerCount=Qt;function Qt(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}I.prototype.eventNames=function(){return this._eventsCount>0?Fe(this._events):[]};function en(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function zs(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Hs(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Xs(t,e){return new Promise(function(r,n){function o(u){t.removeListener(e,i),n(u)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",o),r([].slice.call(arguments))}rn(t,e,i,{once:!0}),e!=="error"&&Ks(t,o,{once:!0})})}function Ks(t,e,r){typeof t.on=="function"&&rn(t,"error",e,r)}function rn(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function o(i){n.once&&t.removeEventListener(e,o),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Ys=Lr.exports;const Zs=Cr,$e=xa,cr=eu,Ae=xu,Qs=ls,Pe=$s,mt=Gs,ec=Ws,mr=zt,{EventEmitter:rc}=Ys;function Ee(t){return mr.fromNullable(t[0]).value()}var tc=function({dataclasses:t,invariants:e,errors:r,rules:n,UITypes:o}){const{CompoundPredicate:i,ComparisonPredicate:u,Predicate:l}=t,y=(m,h)=>mr.fromNullable($e($=>$.type_id===h,m)),P=(m,h)=>e.Target_idMustReferToADefinedTarget($e($=>$.target_id===h,m)),d=(m,h)=>e.LogicalType_idMustReferToADefinedLogicalType($e($=>$.logicalType_id===h,m)),f=(m,h)=>e.Operator_idMustReferToADefinedOperator($e($=>$.operator_id===h,m)),v=cr((m,h)=>Ae(Qs(({operator_id:$})=>h.includes($)))(m)),_=cr((m,h)=>(h.$operators=v(m.operators,h.operator_ids),h)),O=cr((m,h)=>{const $=y(m.types,h.type_id);return e.TargetMustReferToADefinedType($,h).then(B=>(h.$type=B,h))}),J=m=>function(h){return h.then($=>(m(),$))},G=(m,h)=>Ae(m,J(h)),K=m=>{m.operators=Pe(t.Operator,m.operators),m.logicalTypes=Pe(t.LogicalType,m.logicalTypes),m.argumentTypes=Pe(t.ArgumentType,m.argumentTypes||[]);const h=Ae(t.Type,_(m));m.types=Pe(h,m.types);const $=Ae(t.Target,O(m));return Promise.all(Pe($,m.targets)).then(B=>(m.targets=B,m))};function Y(m){const{data:h,columns:$,ui:B,options:oe}=m,Z=B||{};return new Promise((F,L)=>{try{t._requireProps($,"operators,logicalTypes,types,targets")}catch(X){L(X);return}F()}).then(()=>K($)).then(F=>{let L,X;const D=new rc,W=Zs(Y.defaults.options,oe);function te(){const g=!n.predicateToRemoveIsTheLastComparisonPredicate(L,i,u);i.forEach(L,b=>{b.$canBeRemoved=g&&!n.predicateToRemoveIsRootPredicate(L,b)})}function ie(){D.emit("changed",X)}const N=Ae(te,ie);function ce(g){return e.RootPredicateMustBeACompoundPredicate(g,i).then(()=>{L=g})}function ae(g){return l.fromJSON(g,{getTargetById:b=>P(F.targets,b),getLogicalTypeById:b=>d(F.logicalTypes,b),getOperatorById:b=>f(F.operators,b)})}function fe({where:g,how:b="after",type:R}){return Promise.resolve().then(()=>e.AddOnlySupportsAfter(b)).then(()=>e.PredicateTypeMustBeValid(R,l.Types)).then(()=>W[`getDefault${R}`](F,W)).then(q=>{const ee=u.is(g);if(ee||i.is(g)){if(ee){const ze=E(g),[we,[c,He]]=mt(2,ze);we.predicates=ec(He+1,q,we.predicates)}else g.predicates.unshift(q);return q}return Promise.reject(new r.CannotAddSomethingElseThanACompoundPredicateOrAComparisonPredicate)})}function x(g){return Promise.resolve().then(()=>e.RemovePredicateMustDifferFromRootPredicate(L,g)).then(()=>e.RemovePredicateCannotBeTheLastComparisonPredicate(L,g,i,u)).then(()=>{if(i.is(g)||u.is(g)){const b=E(g),[R,[q,ee]]=mt(2,b);return R.predicates.splice(ee,1),R.predicates.length===0?x(R):g}return Promise.reject(new r.CannotRemoveSomethingElseThanACompoundPredicateOrAComparisonPredicate)})}function pe(g,b){return e.PredicateMustBeACompoundPredicate(g,i).then(()=>d(F.logicalTypes,b)).then(R=>{g.logic=R})}function ne(g,b){return e.PredicateMustBeAComparisonPredicate(g,u).then(()=>P(F.targets,b)).then(R=>(g.target=R,a(g,Ee(g.target.$type.$operators).operator_id)))}function a(g,b){return Promise.resolve().then(()=>e.Operator_idMustReferToADefinedOperator(g.target.$type.$operators.find(R=>R.operator_id===b))).then(R=>{g.operator=R,g.argument=null})}function s(g,b){return Promise.resolve().then(()=>{g.argument=b})}function p(g){return mr.fromNullable(F.argumentTypes.find(b=>b.argumentType_id===g)).map(b=>b.component).valueOrElse(()=>W.getDefaultArgumentComponent(F,W,Z))}function A(g){return B[g]}function E(g){return i.reduce(L,(b,R,q)=>g===R?q:b,null)}function j(){return l.toJSON(L)}function S(g,b){D.on(g,b)}function T(g,b){D.once(g,b)}function C(g,b){g?b?D.removeListener(g,b):D.removeAllListeners(g):D.removeAllListeners()}return(h?ae(h):W.getDefaultData(F,W)).then(G(ce,N)).then(()=>(X={on:S,once:T,off:C,setData:G(ce,N),add:G(fe,N),remove:G(x,N),setPredicateTarget_id:G(ne,N),setPredicateOperator_id:G(a,N),setPredicateLogicalType_id:G(pe,N),setArgumentValue:G(s,N),getArgumentTypeComponentById:p,UITypes:o,getUIComponent:A,toJSON:j,get root(){return L},get columns(){return F},get options(){return W}},X))})}return Y.defaults={options:{getDefaultData(m,h){return h.getDefaultComparisonPredicate(m,h).then($=>h.getDefaultCompoundPredicate(m,h,[$]))},getDefaultCompoundPredicate(m,h,$){return(!Array.isArray($)||$.length===0?h.getDefaultComparisonPredicate(m,h).then(B=>[B]):Promise.resolve($)).then(B=>h.getDefaultLogicalType(B,m,h).then(oe=>i(oe,B)))},getDefaultComparisonPredicate(m,h){const $=Ee(m.targets);return u($,Ee($.$type.$operators))},getDefaultLogicalType(m,h,$){return Promise.resolve(Ee(h.logicalTypes))},getDefaultArgumentComponent(m,h){throw new r.UIFrameworkMustImplementgetDefaultArgumentComponent("UIFrameworkMustImplementgetDefaultArgumentComponent")}}},Y};const qe=ya,tn=da,nn=ga,Br=va({errors:qe,rules:nn}),on=Sa({invariants:Br,errors:qe}),nc=tc({dataclasses:on,invariants:Br,errors:qe,rules:nn,UITypes:tn});var Q={PredicateCore:nc,errors:qe,invariants:Br,UITypes:tn,dataclasses:on};const Oc=hr(Q),oc=["value"],ic=["value"],an={__name:"targets",props:{columns:{type:Object,required:!0},predicate:{type:Object,required:!0}},emits:["change"],setup(t){return(e,r)=>(V(),z("select",{value:t.predicate.target.target_id,onChange:r[0]||(r[0]=n=>e.$emit("change",n.target.value))},[(V(!0),z(_r,null,br(t.columns.targets,n=>(V(),z("option",{key:n.label,value:n.target_id},Ne(n.label),9,ic))),128))],40,oc))}};an.__docgenInfo={exportName:"default",displayName:"targets",description:"",tags:{},props:[{name:"columns",type:{name:"object"},required:!0},{name:"predicate",type:{name:"object"},required:!0}],events:[{name:"change"}],sourceFiles:["/Users/yannick/Sites/evoludata/ui-predicate/packages/ui-predicate-vue3/src/default-components/targets.vue"]};const ac=["value"],uc=["value"],un={__name:"logical-types",props:{predicate:{type:Object,required:!0},columns:{type:Object,required:!0}},emits:["change"],setup(t){return(e,r)=>(V(),z("select",{value:t.predicate.logic.logicalType_id,onChange:r[0]||(r[0]=n=>e.$emit("change",n.target.value))},[(V(!0),z(_r,null,br(t.columns.logicalTypes,n=>(V(),z("option",{key:n.label,value:n.logicalType_id},Ne(n.label),9,uc))),128))],40,ac))}};un.__docgenInfo={exportName:"default",displayName:"logical-types",description:"",tags:{},props:[{name:"predicate",type:{name:"object"},required:!0},{name:"columns",type:{name:"object"},required:!0}],events:[{name:"change"}],sourceFiles:["/Users/yannick/Sites/evoludata/ui-predicate/packages/ui-predicate-vue3/src/default-components/logical-types.vue"]};const sc=["value"],cc=["value"],sn={__name:"operators",props:{columns:{type:Object,required:!0},predicate:{type:Object,required:!0}},emits:["change"],setup(t){return(e,r)=>(V(),z("select",{value:t.predicate.operator.operator_id,onChange:r[0]||(r[0]=n=>e.$emit("change",n.target.value))},[(V(!0),z(_r,null,br(t.predicate.target.$type.$operators,n=>(V(),z("option",{key:n.label,value:n.operator_id},Ne(n.label),9,cc))),128))],40,sc))}};sn.__docgenInfo={exportName:"default",displayName:"operators",description:"",tags:{},props:[{name:"columns",type:{name:"object"},required:!0},{name:"predicate",type:{name:"object"},required:!0}],events:[{name:"change"}],sourceFiles:["/Users/yannick/Sites/evoludata/ui-predicate/packages/ui-predicate-vue3/src/default-components/operators.vue"]};const fc={type:"button"},cn={__name:"predicate-add",props:{isInAddCompoundMode:{type:Boolean,default:!1}},setup(t){return(e,r)=>(V(),z("button",fc,Ne(t.isInAddCompoundMode?"…":"+"),1))}};cn.__docgenInfo={exportName:"default",displayName:"predicate-add",description:"",tags:{},props:[{name:"isInAddCompoundMode",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["/Users/yannick/Sites/evoludata/ui-predicate/packages/ui-predicate-vue3/src/default-components/predicate-add.vue"]};const pc=["disabled"],fn={__name:"predicate-remove",props:{disabled:{type:Boolean,default:!1}},setup(t){return(e,r)=>(V(),z("button",{type:"button",disabled:t.disabled},"-",8,pc))}};fn.__docgenInfo={exportName:"default",displayName:"predicate-remove",description:"",tags:{},props:[{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["/Users/yannick/Sites/evoludata/ui-predicate/packages/ui-predicate-vue3/src/default-components/predicate-remove.vue"]};const pn=(t,e)=>{const r=t.__vccOpts||t;for(const[n,o]of e)r[n]=o;return r},ln={emits:["change"],props:{value:{type:null,required:!0}}},lc=["value"];function yc(t,e,r,n,o,i){return V(),z("input",{type:"text",value:r.value,onChange:e[0]||(e[0]=u=>t.$emit("change",u.target.value))},null,40,lc)}const dc=pn(ln,[["render",yc]]);ln.__docgenInfo={exportName:"default",displayName:"argument-default",description:"",tags:{},props:[{name:"value",type:{name:"null"},required:!0}],events:[{name:"change"}],sourceFiles:["/Users/yannick/Sites/evoludata/ui-predicate/packages/ui-predicate-vue3/src/default-components/argument-default.vue"]};const gc={[Q.UITypes.TARGETS]:an,[Q.UITypes.LOGICAL_TYPES]:un,[Q.UITypes.OPERATORS]:sn,[Q.UITypes.PREDICATE_ADD]:cn,[Q.UITypes.PREDICATE_REMOVE]:fn,[Q.UITypes.ARGUMENT_DEFAULT]:dc},yn={options:{getDefaultArgumentComponent(t,e,r){return r[Q.UITypes.ARGUMENT_DEFAULT]}}};function dn({data:t,columns:e,ui:r,options:n}={}){return Q.PredicateCore({data:t,columns:e,ui:Ur({},gc,r),options:Ur({},yn.options,n)})}dn.defaults=yn;const vc=fa("error"),gn={name:"ui-predicate",emits:["initialized","error","change"],props:{data:{type:Object,default:()=>({})},columns:{type:Object,required:!0},ui:{type:Object,required:!1}},data(){return{isCoreReady:!1,root:{},isInAddCompoundMode:!1,compoundKey:0}},created(){const t=this;window.addEventListener("keyup",this.onAltReleased),window.addEventListener("keydown",this.onAltPressed),dn({data:this.data,columns:this.columns,ui:this.ui}).then(e=>{t.ctrl=e,t.root=e.root,e.on("changed",t.triggerChanged),t.isCoreReady=!0,t.$emit("initialized",e)},e=>{const r=Object.assign(new vc,{cause:e});return t.$emit("error",r),Promise.reject(r)})},methods:{setIsInAddCompoundMode(t){this.isInAddCompoundMode=t,this.$root.$emit("isInAddCompoundMode",t)},onAltPressed(t){t.keyCode===18&&this.setIsInAddCompoundMode(!0)},onAltReleased(t){t.keyCode===18&&this.setIsInAddCompoundMode(!1)},triggerChanged(t){const e=t.toJSON();this.$emit("change",e),this.compoundKey=this.root.predicates.length}},provide(){const t=this;return{UITypes:Q.UITypes,getAddCompoundMode(){return t.isInAddCompoundMode},add(e){return t.ctrl.add({where:Mr(e)?Dr(e):e,how:"after",type:t.isInAddCompoundMode?"CompoundPredicate":"ComparisonPredicate"})},remove(e){return t.ctrl.remove(Mr(e)?Dr(e):e)},setPredicateLogicalType_id(e,r){return t.ctrl.setPredicateLogicalType_id(e,r)},setPredicateTarget_id(e,r){return t.ctrl.setPredicateTarget_id(e,r)},setPredicateOperator_id(e,r){return t.ctrl.setPredicateOperator_id(e,r)},getArgumentTypeComponentById(e){return t.ctrl.getArgumentTypeComponentById(e)},setArgumentValue(e,r){return t.ctrl.setArgumentValue(e,r)},getUIComponent(e){return t.ctrl.getUIComponent(e)}}},unmounted(){this.ctrl&&this.ctrl.off(),window.removeEventListener("keyup",this.onAltReleased),window.removeEventListener("keydown",this.onAltPressed)}},mc={class:"ui-predicate__main"};function hc(t,e,r,n,o,i){const u=Tn("ui-predicate-compound");return V(),z("div",mc,[o.isCoreReady?(V(),Sn(u,{predicate:o.root,key:o.compoundKey,columns:r.columns},null,8,["predicate","columns"])):wn("",!0)])}const Sc=pn(gn,[["render",hc]]);gn.__docgenInfo={displayName:"ui-predicate",description:`ui-predicate-vue is a rules editor, predicates component, for Vue JS 3.
It aims to provide a clean, semantic and reusable component that make building your filtering or rules user interface a breeze.`,tags:{},exportName:"default",props:[{name:"data",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"columns",type:{name:"object"},required:!0},{name:"ui",type:{name:"object"},required:!1}],events:[{name:"initialized"},{name:"error"},{name:"change",type:{names:["Object"]},description:"Emitted when the predicate is changed."}],sourceFiles:["/Users/yannick/Sites/evoludata/ui-predicate/packages/ui-predicate-vue3/src/ui-predicate.vue"]};export{vc as I,Sc as U,pn as _,Oc as a};
